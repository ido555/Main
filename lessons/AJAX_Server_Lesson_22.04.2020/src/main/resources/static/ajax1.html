<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script>

        // AJAX - JS Vanilla way
        function getData() {
            // XHR
            // 0   UNSENT  open() has not been called yet.
            // 1   OPENED  send() has been called.
            // 2   HEADERS_RECEIVED    send() has been called, and headers and status are available.
            // 3   LOADING Downloading; responseText holds partial data.
            // 4   DONE    The operation is complete.
            let httpReq = new XMLHttpRequest()
            httpReq.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    // alert(this.responseText)
                    document.getElementById("result").innerHTML = this.responseText
                }
            }
            // httpReq.open("GET", "data.txt", true) // true - Async // false - Sync
            // httpReq.send()
            httpReq.open("GET", "jeff/greetJS", true)
            httpReq.send()
        }

        // AJAX - jQuery
        $(function () {
            $("#btn2").click(function () {
                // fast and easy but no callbacks (on success/ failure / completition) - not recommended 
                // jQuery get - always Aysnc by default
                // $.get("jeff/greetJQuery", function (response) { 
                //     $("#result").html(response)
                // })
                $.ajax({
                    url: "jeff/greetJQuery",
                    // url: "jeff/greetPOST",
                    type: "GET",
                    // type: "POST",
                    success: function (response) {
                        $("#result").html(response)
                    },
                    error: function (err) {
                        $("#result").html(err)
                    }

                })
            })
        })
    </script>

</head>

<body style="background-color: slategrey;">
    <!-- AJAX Asynchronous Javascript and XML(Extensible Markup Language) -->
    <h1>AJAX Demo</h1>
    <a href="data.txt">Get some text</a><br>
    <a href="jeff/greetJS">greet</a><br>
    <button onclick="getData()">Get data</button>
    <button id="btn2">Get data 2</button>
    <div id="result"></div>
</body>

</html>